model Document {
  id            String         @id @default(cuid())
  orgId         String
  aircraftId    String?
  kind          DocumentKind
  status        DocumentStatus @default(RECEIVED)
  storageKey    String
  byteSize      Int
  checksum      String
  pageCount     Int            @default(0)
  uploadedById  String?
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  organization  Organization   @relation(fields: [orgId], references: [id], onDelete: Cascade)
  aircraft      Aircraft?      @relation(fields: [aircraftId], references: [id], onDelete: SetNull)
  uploadedBy    User?          @relation("UserUploadedDocuments", fields: [uploadedById], references: [id], onDelete: SetNull)
  pages         DocumentPage[]
  events        MaintenanceEventSource[]
  embeddings    Embedding[]    @relation("DocumentEmbeddings")

  @@index([orgId, kind])
}
